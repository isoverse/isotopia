<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting Started • isotopia</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">isotopia</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/isotopia.html">Getting Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/sebkopf/isotopia">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Getting Started</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/sebkopf/isotopia/blob/master/vignettes/isotopia.Rmd"><code>vignettes/isotopia.Rmd</code></a></small>
      <div class="hidden name"><code>isotopia.Rmd</code></div>

    </div>

    
    
<div id="overview" class="section level1">
<h1 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h1>
<p>The <a href="http://isotopia.isoverse.org/"><strong>isotopia</strong></a> package provides several isotopic data types that can be initialized by calling the respective <code>ratio</code>, <code>abundance</code>, <code>delta</code>, <code>fractionation_factor</code> and <code>intensity</code> functions. Each data type has additional attributes (such as name of the minor and major isotopes, and what compound it represents, what the reference ratio is for delta values, and what notation is used), which are all described in great detail in the help functions of <a href="http://isotopia.isoverse.org/"><strong>isotopia</strong></a> that are accessible directly from R. Each data type can be initialized as a single vector of isotopic data or an entire system of isotope values for the same element (e.g. all oxygen or all sulfur isotopes). As all isotope data objects are implemented as extensions of primitive data types in R, they can be structured and aggregated in all the ways familiar to people with prior R experience, but should be intuitive enough to be useful “out of the box” for users new to this language. Isotope data types can then be converted from one type to another using <code>to_ratio</code>, <code>to_abundance</code>, <code>to_delta</code>, <code>to_fractionation_factor</code> methods, can be used in operations (<code>mass_balance</code>, <code>fractionate</code>, etc.) or transferred from one notation to another using <code>switch_notation</code>. Here, I provide a few examples how <a href="http://isotopia.isoverse.org/"><strong>isotopia</strong></a> works and how it can be used, with the complete documentation available in the reference manual. To look at the newest version of this tutorial directly within R, call the vignette <code><a href="../articles/isotopia.html">vignette("isotopia")</a></code>.</p>
</div>
<div id="data-types" class="section level1">
<h1 class="hasAnchor">
<a href="#data-types" class="anchor"></a>Data types</h1>
<p>After <em>isotopia</em> is <a href="http://isotopia.isoverse.org/">installed</a>, it can be loaded at any time like any other R package using <code><a href="https://rdrr.io/r/base/library.html">library(isotopia)</a></code>. The basic data types are initialized simply by calling the respective <code>ratio</code>, <code>abundance</code>, <code>delta</code> and <code>fractionation_factor</code> functions with single or multiple values.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(isotopia)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">show</span>(<span class="kw"><a href="../reference/ratio.html">ratio</a></span>(<span class="fl">0.1</span>)) </a></code></pre></div>
<pre><code>## An isotope value object of type 'Ratio value': R
## [1] 0.1</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">show</span>(<span class="kw"><a href="../reference/abundance.html">abundance</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">0.1</span>, <span class="fl">0.2</span>))) </a></code></pre></div>
<pre><code>## An isotope value object of type 'Abundance value': F
## [1] 0.1 0.2</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">show</span>(<span class="kw"><a href="../reference/delta.html">delta</a></span>(<span class="dv">100</span>, <span class="dt">notation =</span> <span class="st">"permil"</span>)) </a></code></pre></div>
<pre><code>## An isotope value object of type 'Delta value': d [permil]
## [1] 100</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw">show</span>(<span class="kw"><a href="../reference/fractionation_factor.html">fractionation_factor</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(<span class="fl">0.97</span>, <span class="fl">1.03</span>, <span class="dt">by=</span><span class="fl">0.01</span>), <span class="dt">notation =</span> <span class="st">"alpha"</span>))</a></code></pre></div>
<pre><code>## An isotope value object of type 'FractionationFactor value': alpha
## [1] 0.97 0.98 0.99 1.00 1.01 1.02 1.03</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw">show</span>(<span class="kw"><a href="../reference/intensity.html">intensity</a></span>(<span class="dv">100</span>, <span class="dt">unit =</span> <span class="st">"mV"</span>))</a></code></pre></div>
<pre><code>## An isotope value object of type 'Intensity value':  [mV]
## [1] 100</code></pre>
<div id="attributes" class="section level2">
<h2 class="hasAnchor">
<a href="#attributes" class="anchor"></a>Attributes</h2>
<p>All data types have certain attributes that are stored with the data values. For example, an isotope ratio can specify what minor and major isotope it represents and what compound it belongs to.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw">show</span>(<span class="kw"><a href="../reference/ratio.html">ratio</a></span>(<span class="st">`</span><span class="dt">13C</span><span class="st">`</span> =<span class="st"> </span><span class="fl">0.011</span>, <span class="dt">major =</span> <span class="st">"12C"</span>, <span class="dt">compound =</span> <span class="st">"CO2"</span>))</a></code></pre></div>
<pre><code>## An isotope value object of type 'Ratio value': CO2 R 13C/12C
## [1] 0.011</code></pre>
<p>And a fractionation factor, for example, can additionally describe what the two reservoirs are between which it fractionates (introducing the shortcut ff instead of the identical long version fractionation_factor in the following).</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="kw">show</span>(<span class="kw"><a href="../reference/fractionation_factor.html">ff</a></span>(<span class="st">`</span><span class="dt">13C</span><span class="st">`</span> =<span class="st"> </span><span class="fl">0.995</span>,  <span class="dt">major =</span> <span class="st">"12C"</span>, <span class="dt">ctop =</span> <span class="st">"CO2"</span>, <span class="dt">cbot =</span> <span class="st">"DIC"</span>))</a></code></pre></div>
<pre><code>## An isotope value object of type 'FractionationFactor value': 13C alpha_CO2/DIC
## [1] 0.995</code></pre>
<p>All attributes can also be changed on an already initialized object using the set_attrib() function. However, changing previously defined attributes will always trigger a warning to alert the user to the fact that they are overwriting an attribute.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">r &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ratio.html">ratio</a></span>(<span class="st">`</span><span class="dt">18O</span><span class="st">`</span> =<span class="st"> </span><span class="fl">0.002</span>, <span class="dt">major =</span> <span class="st">"16O"</span>, <span class="dt">compound =</span> <span class="st">"CO2"</span>) </a>
<a class="sourceLine" id="cb15-2" data-line-number="2">r &lt;-<span class="st"> </span><span class="kw"><a href="../reference/set_attrib.html">set_attrib</a></span>(r, <span class="dt">minor =</span> <span class="st">"17O"</span>)</a></code></pre></div>
<pre><code>## Warning: changing the isotope name ('Ratio value' object) from '18O' to
## '17O'</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="kw">show</span>(r)</a></code></pre></div>
<pre><code>## An isotope value object of type 'Ratio value': CO2 R 17O/16O
## [1] 0.002</code></pre>
<p>There are also a large number of safeguards in place that trigger errors if non-sensical isotope values are initialized (for example a negative isotope ratio or alpha fractionation factor).</p>
</div>
<div id="isotope-systems" class="section level2">
<h2 class="hasAnchor">
<a href="#isotope-systems" class="anchor"></a>Isotope systems</h2>
<p>Entire isotope systems can be initialized in identical ways, by simply passing several separate values (or entire sequences of values) to the initialization functions (introducing the shortcut ab instead of the identical long version abundance in the following).</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="kw">show</span>(<span class="kw"><a href="../reference/abundance.html">ab</a></span>(<span class="st">`</span><span class="dt">33S</span><span class="st">`</span> =<span class="st"> </span><span class="fl">0.0075</span>, <span class="st">`</span><span class="dt">34S</span><span class="st">`</span> =<span class="st"> </span><span class="fl">0.0421</span>, <span class="st">`</span><span class="dt">36S</span><span class="st">`</span> =<span class="st"> </span><span class="fl">0.0002</span>, <span class="dt">major =</span> <span class="st">"32S"</span>))</a></code></pre></div>
<pre><code>## An isotope system object of type 'Abundances' with F 33S, F 34S, F 36S
##      33S    34S   36S
## 1 0.0075 0.0421 2e-04</code></pre>
</div>
</div>
<div id="notation" class="section level1">
<h1 class="hasAnchor">
<a href="#notation" class="anchor"></a>Notation</h1>
<p>Closely related to the attributes system is the notation system implemented in <a href="https://github.com/isoverse/isotopia"><strong>isotopia</strong></a>. Notation is special because it is an attribute that, when changed, also changes the numerical value of an isotope object with it. All isotope value objects keep track internally what notation they are in, which allows them to be used correctly in any operations and conversions completely independent of what notation the user prefers to work in. Notation is first specified when an isotope value object is initialized and several different notations are implemented for the different isotope value objects. If not specified during intialization, <a href="https://github.com/isoverse/isotopia"><strong>isotopia</strong></a> assumes tha an object is created with its default notation. A number of default settings can be specified and retrieved using <code><a href="../reference/iso_opts.html">set_iso_opts()</a></code> and <code><a href="../reference/iso_opts.html">get_iso_opts()</a></code>. Here an example of checking and setting the default notation for fractionation factors (which can be either <span class="math inline">\(\alpha\)</span> values, raw <span class="math inline">\(\epsilon=\alpha-1\)</span> or <span class="math inline">\(\epsilon\)</span> values in permil notation), initializing a new object with default notation (i.e. without specifying <code>notation="x"</code> during initialization) and converting it back and forth.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="kw">show</span>(<span class="kw"><a href="../reference/iso_opts.html">get_iso_opts</a></span>(<span class="st">"default_ff_notation"</span>)) </a></code></pre></div>
<pre><code>## [1] "alpha"</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1"><span class="kw">show</span>(<span class="kw"><a href="../reference/fractionation_factor.html">ff</a></span>(<span class="fl">1.02</span>)) <span class="co"># alpha notation </span></a></code></pre></div>
<pre><code>## An isotope value object of type 'FractionationFactor value': alpha
## [1] 1.02</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1"><span class="kw"><a href="../reference/iso_opts.html">set_iso_opts</a></span>(<span class="dt">default_ff_notation =</span> <span class="st">"permil"</span>) </a>
<a class="sourceLine" id="cb25-2" data-line-number="2"><span class="kw">show</span>(p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/fractionation_factor.html">ff</a></span>(<span class="dv">20</span>))  <span class="co"># permil notation </span></a></code></pre></div>
<pre><code>## An isotope value object of type 'FractionationFactor value': eps [permil]
## [1] 20</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1"><span class="kw">show</span>(<span class="kw"><a href="../reference/switch_notation.html">switch_notation</a></span>(p, <span class="st">"eps"</span>)) </a></code></pre></div>
<pre><code>## An isotope value object of type 'FractionationFactor value': eps
## [1] 0.02</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1"><span class="kw">show</span>(<span class="kw"><a href="../reference/switch_notation.html">switch_notation</a></span>(p, <span class="st">"alpha"</span>))</a></code></pre></div>
<pre><code>## An isotope value object of type 'FractionationFactor value': alpha
## [1] 1.02</code></pre>
<p>It is important to note that of course all of these values are equivalent, they are just representions of the same fractionation factor in different notation. Accordingly, they behave <strong>exactly</strong> the same in all calculations implemented by <a href="https://github.com/isoverse/isotopia"><strong>isotopia</strong></a> regardless what notation they are in.</p>
</div>
<div id="conversions" class="section level1">
<h1 class="hasAnchor">
<a href="#conversions" class="anchor"></a>Conversions</h1>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1">i &lt;-<span class="st"> </span><span class="kw"><a href="../reference/intensity.html">intensity</a></span>(<span class="st">`</span><span class="dt">32S</span><span class="st">`</span> =<span class="st"> </span><span class="dv">9502</span>, <span class="st">`</span><span class="dt">33S</span><span class="st">`</span> =<span class="st"> </span><span class="dv">75</span>, <span class="st">`</span><span class="dt">34S</span><span class="st">`</span> =<span class="st"> </span><span class="dv">421</span>, <span class="st">`</span><span class="dt">36S</span><span class="st">`</span> =<span class="st"> </span><span class="dv">2</span>, </a>
<a class="sourceLine" id="cb31-2" data-line-number="2">               <span class="dt">major =</span> <span class="st">"32S"</span>, <span class="dt">unit =</span> <span class="st">"#"</span>)</a>
<a class="sourceLine" id="cb31-3" data-line-number="3"><span class="kw">show</span>(i)</a></code></pre></div>
<pre><code>## An isotope system object of type 'Intensities' with 32S [#], 33S [#], 34S [#], 36S [#]
##    32S 33S 34S 36S
## 1 9502  75 421   2</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1">r &lt;-<span class="st"> </span><span class="kw"><a href="../reference/to_ratio.html">to_ratio</a></span>(i)</a>
<a class="sourceLine" id="cb33-2" data-line-number="2"><span class="kw">show</span>(r)</a></code></pre></div>
<pre><code>## An isotope system object of type 'Ratios' with R 33S/32S, R 34S/32S, R 36S/32S
##           33S        34S         36S
## 1 0.007893075 0.04430646 0.000210482</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1">ab &lt;-<span class="st"> </span><span class="kw"><a href="../reference/to_abundance.html">to_abundance</a></span>(r)</a>
<a class="sourceLine" id="cb35-2" data-line-number="2"><span class="kw">show</span>(ab)</a></code></pre></div>
<pre><code>## An isotope system object of type 'Abundances' with F 33S, F 34S, F 36S
##      33S    34S   36S
## 1 0.0075 0.0421 2e-04</code></pre>
<p>Because the system of intensities (here as ion counts #) had the major isotope attribute specified, the conversion <code>to_ratio</code> could automatically figure out what ratios to form. Without specifying which one is the major isotope, the intensities would have still initialized just fine but <a href="https://github.com/isoverse/isotopia"><strong>isotopia</strong></a> would have thrown an error when trying to convert to isotope ratios. There’s much more functionality in the conversions, which are all listed in the reference manual available directly within R by calling <code><a href="../reference/isotopia-package.html">?isotopia</a></code> or <code><a href="../reference/to_ratio.html">?to_ratio</a></code> or any other function defined in the package.</p>
<div id="delta-values-and-reference-standards" class="section level2">
<h2 class="hasAnchor">
<a href="#delta-values-and-reference-standards" class="anchor"></a>Delta values and reference standards</h2>
<p>In the case of delta values, conversions often require the specification or use of a reference ratio. This can simply be done by specifying the reference ratio when converting to_delta and since <a href="https://github.com/isoverse/isotopia"><strong>isotopia</strong></a> stores the reference ratio with the delta value object, it can be used automatically in the reverse calculation.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" data-line-number="1">r &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ratio.html">ratio</a></span>(<span class="st">`</span><span class="dt">13C</span><span class="st">`</span> =<span class="st"> </span><span class="fl">0.0115</span>, <span class="dt">major =</span> <span class="st">"12C"</span>)</a>
<a class="sourceLine" id="cb37-2" data-line-number="2">ref_r &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ratio.html">ratio</a></span>(<span class="st">`</span><span class="dt">13C</span><span class="st">`</span> =<span class="st"> </span><span class="fl">0.011237</span>, <span class="dt">major =</span> <span class="st">"12C"</span>, <span class="dt">compound =</span> <span class="st">"VPDB"</span>)</a>
<a class="sourceLine" id="cb37-3" data-line-number="3">d &lt;-<span class="st"> </span><span class="kw"><a href="../reference/to_delta.html">to_delta</a></span>(r, <span class="dt">ref_ratio =</span> ref_r)</a>
<a class="sourceLine" id="cb37-4" data-line-number="4"><span class="kw">show</span>(d)</a></code></pre></div>
<pre><code>## An isotope value object of type 'Delta value': d13C [permil] vs. VPDB
## [1] 23.40482</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" data-line-number="1"><span class="kw">show</span>(<span class="kw"><a href="../reference/to_ratio.html">to_ratio</a></span>(d))</a></code></pre></div>
<pre><code>## An isotope value object of type 'Ratio value': R 13C/12C
## [1] 0.0115</code></pre>
<p>Additionally, <a href="https://github.com/isoverse/isotopia"><strong>isotopia</strong></a> keeps a register of known reference materials with several default values already entered and the possibility for the user to add additional ones they want to use (with the <code><a href="../reference/standards.html">register_standard()</a></code> function). Standards can be retrieved as ratio objects by calling <code><a href="../reference/standards.html">get_standard()</a></code> and specifying which standard to retrieve for which isotope (see the manual in section A.2.8 for details). The list of all registered ratios can be retrieved as any other option with a call to <code>get_iso_opts</code> (here turned into a table with the k-table or <code>kable</code> command provided by the knitr package - Xie, 2013):</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(knitr)</a>
<a class="sourceLine" id="cb41-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>(<span class="kw"><a href="../reference/iso_opts.html">get_iso_opts</a></span>(<span class="st">"standards"</span>), <span class="dt">format=</span><span class="st">"markdown"</span>)</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">minor</th>
<th align="left">major</th>
<th align="left">name</th>
<th align="right">ratio</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">2H</td>
<td align="left">1H</td>
<td align="left">VSMOW</td>
<td align="right">0.0001558</td>
</tr>
<tr class="even">
<td align="left">13C</td>
<td align="left">12C</td>
<td align="left">VPDB</td>
<td align="right">0.0112370</td>
</tr>
<tr class="odd">
<td align="left">15N</td>
<td align="left">14N</td>
<td align="left">Air</td>
<td align="right">0.0036770</td>
</tr>
<tr class="even">
<td align="left">18O</td>
<td align="left">16O</td>
<td align="left">VSMOW</td>
<td align="right">0.0020052</td>
</tr>
<tr class="odd">
<td align="left">34S</td>
<td align="left">32S</td>
<td align="left">CDT</td>
<td align="right">0.0450050</td>
</tr>
</tbody>
</table>
<p>Registered standards provide <a href="https://github.com/isoverse/isotopia"><strong>isotopia</strong></a> with the means to automatically select the correct reference ratio during conversions with delta objects that have sufficiently specific attributes (a message informs the user what was selected, if not enough information is provided to match exactly to one correct standard, this will fail with an error unless the user specifically provides a reference ratio for the conversion).</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" data-line-number="1">d &lt;-<span class="st"> </span><span class="kw"><a href="../reference/delta.html">delta</a></span>(<span class="st">`</span><span class="dt">2H</span><span class="st">`</span> =<span class="st"> </span><span class="dv">100</span>, <span class="dt">major =</span> <span class="st">"1H"</span>, <span class="dt">ref =</span> <span class="st">"VSMOW"</span>)</a>
<a class="sourceLine" id="cb42-2" data-line-number="2"><span class="kw">show</span>(d)</a></code></pre></div>
<pre><code>## An isotope value object of type 'Delta value': d2H [permil] vs. VSMOW
## [1] 100</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb44-1" data-line-number="1"><span class="kw">show</span>(<span class="kw"><a href="../reference/to_ratio.html">to_ratio</a></span>(d))</a></code></pre></div>
<pre><code>## Successfully found a registered standard to convert delta value: VSMOW R 2H/1H: 0.0001558</code></pre>
<pre><code>## An isotope value object of type 'Ratio value': R 2H/1H
## [1] 0.0001713407</code></pre>
</div>
</div>
<div id="operations" class="section level1">
<h1 class="hasAnchor">
<a href="#operations" class="anchor"></a>Operations</h1>
<p>With the conversions and data types all in place, <a href="https://github.com/isoverse/isotopia"><strong>isotopia</strong></a> can easily expand its func- tionality by building on top of the data types. Currently, operations are limited to a number of key features, such as <code><a href="../reference/mass_balance.html">mass_balance()</a></code> calculations for fractional abundances and delta values, as well as fractionating (<code><a href="../reference/fractionate.html">fractionate()</a></code>) isotope data objects with <code>fractionation_factors</code> and shifting the reference frame on delta values (<code><a href="../reference/shift_reference.html">shift_reference()</a></code>). As always, attributes are carried through these operations in the most sensible way for what they actuallly represent.</p>
<div id="mass-balance" class="section level2">
<h2 class="hasAnchor">
<a href="#mass-balance" class="anchor"></a>Mass balance</h2>
<p>Mass balance makes use of an additional attribute not mentioned before, the weight attribute. This allows one to weight values according to their reservoir sizes such that during mass balance calculations, isotopically different pools are mixed according to their relative proportions. Weight can be specified either during initialization or by using the <code><a href="../reference/weight.html">weight()</a></code> function later on. Imagine a reservoir of CO2 that receives a tiny spike of heavily labeled additional carbon. For convenience, we’re introducing here the <a href="https://github.com/isoverse/isotopia"><strong>isotopia</strong></a> options to set the default minor and major isotope names - this is nice for working on a problem in a specific isotope system. Also, we’re going to do the mass balance exact by converting to fractional abundances (although <a href="https://github.com/isoverse/isotopia"><strong>isotopia</strong></a> provides the approximate <code><a href="../reference/mass_balance.html">mass_balance()</a></code> directly with delta value objects as well).</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb47-1" data-line-number="1"><span class="kw"><a href="../reference/iso_opts.html">set_iso_opts</a></span>(</a>
<a class="sourceLine" id="cb47-2" data-line-number="2">    <span class="dt">default_minor =</span> <span class="st">"13C"</span>, </a>
<a class="sourceLine" id="cb47-3" data-line-number="3">    <span class="dt">default_major=</span><span class="st">"12C"</span>,</a>
<a class="sourceLine" id="cb47-4" data-line-number="4">    <span class="dt">default_ab_notation =</span> <span class="st">"percent"</span>)</a>
<a class="sourceLine" id="cb47-5" data-line-number="5">res &lt;-<span class="st"> </span><span class="kw"><a href="../reference/delta.html">delta</a></span>(<span class="op">-</span><span class="dv">10</span>, <span class="dt">compound =</span> <span class="st">"CO2"</span>, <span class="dt">ref =</span> <span class="st">"VPDB"</span>, <span class="dt">weight =</span> <span class="dv">100</span>)</a>
<a class="sourceLine" id="cb47-6" data-line-number="6"><span class="kw">show</span>(res)</a></code></pre></div>
<pre><code>## A weighted isotope value object of type 'Delta value': CO2 d13C [permil] vs. VPDB
##   value weight
## 1   -10    100</code></pre>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb49-1" data-line-number="1">spike &lt;-<span class="st"> </span><span class="kw"><a href="../reference/abundance.html">ab</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(<span class="dv">5</span>, <span class="dv">25</span>, <span class="dt">by =</span> <span class="dv">5</span>), <span class="dt">compound =</span> <span class="st">"Cspike"</span>)</a>
<a class="sourceLine" id="cb49-2" data-line-number="2"><span class="kw">show</span>(spike)</a></code></pre></div>
<pre><code>## An isotope value object of type 'Abundance value': Cspike F 13C [%]
## [1]  5 10 15 20 25</code></pre>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb51-1" data-line-number="1">mb &lt;-<span class="st"> </span><span class="kw"><a href="../reference/mass_balance.html">mass_balance</a></span>(</a>
<a class="sourceLine" id="cb51-2" data-line-number="2">    <span class="kw"><a href="../reference/to_abundance.html">to_ab</a></span>(res), <span class="co"># convert reservoir to abundance</span></a>
<a class="sourceLine" id="cb51-3" data-line-number="3">    <span class="kw"><a href="../reference/weight.html">weight</a></span>(spike, <span class="fl">0.1</span>) <span class="co">#weight spike</span></a>
<a class="sourceLine" id="cb51-4" data-line-number="4">)</a></code></pre></div>
<pre><code>## Successfully found a registered standard to convert delta value: VPDB R 13C/12C: 0.01124</code></pre>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb53-1" data-line-number="1"><span class="kw">show</span>(mb)</a></code></pre></div>
<pre><code>## A weighted isotope value object of type 'Abundance value': CO2+Cspike F 13C [%]
##      value weight
## 1 1.104119  100.1
## 2 1.109114  100.1
## 3 1.114109  100.1
## 4 1.119104  100.1
## 5 1.124099  100.1</code></pre>
<p>Notice that the result of the mass balance again is a weighted isotope value object itself. It can be converted to other data types or you can keep adding additional components to it with mass balance calculations. In fact, since <a href="https://github.com/isoverse/isotopia"><strong>isotopia</strong></a> keeps track of the weight, you can keep tagging multiple mass balances together (the <code><a href="../reference/mass_balance.html">mass_balance()</a></code> function takes as many parameters as desired). Additionally, since R implements basic arithmetic operators as functions, <a href="https://github.com/isoverse/isotopia"><strong>isotopia</strong></a> redefines adding (+) and subtracting (-) for abundance and delta objects to be interpreted as mass balance calculations. This means <code><a href="../reference/mass_balance.html">mass_balance(x, y)</a></code> is the same as <code>x + y</code> for these isotope value objects. This allows short-hand calculations like the following (although <code><a href="../reference/mass_balance.html">mass_balance()</a></code> is recommended in more complex situations for clarity of recording what is happening). Here, we are adding a heavy relatively small but heavy pool (40permil, weight=2) to a circumneutral reservoir (5permil, weight=10) and then remove an isotopically light fraction from the pool (-10permil, weight=4).</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb55-1" data-line-number="1">mb &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb55-2" data-line-number="2"><span class="st">    </span><span class="kw"><a href="../reference/delta.html">delta</a></span>(<span class="dv">5</span>, <span class="dt">weight =</span> <span class="dv">10</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb55-3" data-line-number="3"><span class="st">    </span><span class="kw"><a href="../reference/delta.html">delta</a></span>(<span class="dv">40</span>, <span class="dt">weight =</span> <span class="dv">2</span>) <span class="op">-</span><span class="st"> </span></a>
<a class="sourceLine" id="cb55-4" data-line-number="4"><span class="st">    </span><span class="kw"><a href="../reference/delta.html">delta</a></span>(<span class="op">-</span><span class="dv">10</span>, <span class="dt">weight =</span> <span class="dv">4</span>)</a>
<a class="sourceLine" id="cb55-5" data-line-number="5"><span class="kw">show</span>(mb)</a></code></pre></div>
<pre><code>## A weighted isotope value object of type 'Delta value': d13C [permil]
##   value weight
## 1 21.25      8</code></pre>
</div>
<div id="fractionate" class="section level2">
<h2 class="hasAnchor">
<a href="#fractionate" class="anchor"></a>Fractionate</h2>
<p>During fractionation, a fractionation factor modifies an isotope value object (for example an isotope ratio or a delta value).</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb57-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="kw"><a href="../reference/fractionation_factor.html">ff</a></span>(<span class="fl">1.05</span>, <span class="dt">ctop =</span> <span class="st">"DIC"</span>, <span class="dt">cbot =</span> <span class="st">"CO2"</span>, <span class="dt">notation =</span> <span class="st">"alpha"</span>)</a>
<a class="sourceLine" id="cb57-2" data-line-number="2">r &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ratio.html">ratio</a></span>(<span class="fl">0.114</span>, <span class="dt">compound =</span> <span class="st">"CO2"</span>)</a>
<a class="sourceLine" id="cb57-3" data-line-number="3">r &lt;-<span class="st"> </span><span class="kw"><a href="../reference/fractionate.html">fractionate</a></span>(a, r)</a>
<a class="sourceLine" id="cb57-4" data-line-number="4"><span class="kw">show</span>(r)</a></code></pre></div>
<pre><code>## An isotope value object of type 'Ratio value': DIC R 13C/12C
## [1] 0.1197</code></pre>
<p>Notice that <a href="https://github.com/isoverse/isotopia"><strong>isotopia</strong></a> automatically keeps track of what compound is represented. Af- ter fractionation, the ratio represents no longer <span class="math inline">\(CO[2]\)</span> but <span class="math inline">\(DIC\)</span> according to the fractionation factors attributes. If these attributes do not “cancel” correctly, this command fails with an error and the relevant error message. Same as with <code><a href="../reference/mass_balance.html">mass_balance()</a></code>, <a href="https://github.com/isoverse/isotopia"><strong>isotopia</strong></a> implements arithmetic shorthand for this, isotope value objects can be simply fractionationed by multiplying with a fractionation factor. I.e., <code><a href="../reference/fractionate.html">fractionate(a, b)</a></code> is the same as <code>a * b</code> (this also means fractionation factors can be easily chained with <code>a1 * a2 * a3 * b</code> but only if the “numerators” and “denominators” cancel properly).</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb59-1" data-line-number="1"><span class="kw"><a href="../reference/fractionation_factor.html">ff</a></span>(<span class="op">-</span><span class="dv">25</span>, <span class="dt">notation =</span> <span class="st">"permil"</span>, <span class="dt">ctop =</span> <span class="st">"Corg"</span>, <span class="dt">cbot =</span> <span class="st">"DIC"</span>) <span class="op">*</span></a>
<a class="sourceLine" id="cb59-2" data-line-number="2"><span class="st">    </span><span class="kw"><a href="../reference/fractionation_factor.html">ff</a></span>(<span class="op">-</span><span class="dv">5</span>, <span class="dt">notation =</span> <span class="st">"permil"</span>, <span class="dt">ctop =</span> <span class="st">"DIC"</span>, <span class="dt">cbot =</span> <span class="st">"CO2"</span>) <span class="op">*</span><span class="st"> </span></a>
<a class="sourceLine" id="cb59-3" data-line-number="3"><span class="st">        </span><span class="kw"><a href="../reference/delta.html">delta</a></span>(<span class="dv">100</span>, <span class="dt">compound =</span> <span class="st">"CO2"</span>)</a></code></pre></div>
<pre><code>## An isotope value object of type 'Delta value': Corg d13C [permil]
## [1] 67.1375</code></pre>
</div>
<div id="shift-reference" class="section level2">
<h2 class="hasAnchor">
<a href="#shift-reference" class="anchor"></a>Shift reference</h2>
<p>The last operation to introduce for now is shifting a reference frame. This is only defined for <code>delta</code> values and requires the denominator and numerator to cancel (otherwise fails with an error). It is also implemente with the <code>delta * delta</code> arithmetic shorthand. This is a typical scenario useful for processing laboratory data which is measured against a standard of known isotopic composition relative to an international reference.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb61-1" data-line-number="1">sample &lt;-<span class="st"> </span><span class="kw"><a href="../reference/delta.html">delta</a></span>(<span class="op">-</span><span class="dv">5</span>, <span class="dt">compound =</span> <span class="st">"sample"</span>, <span class="dt">ref =</span> <span class="st">"my_std"</span>)</a>
<a class="sourceLine" id="cb61-2" data-line-number="2">standard &lt;-<span class="st"> </span><span class="kw"><a href="../reference/delta.html">delta</a></span>(<span class="op">-</span><span class="fl">2.5</span>, <span class="dt">compound =</span> <span class="st">"my_std"</span>, <span class="dt">ref =</span> <span class="st">"VPDB"</span>)</a>
<a class="sourceLine" id="cb61-3" data-line-number="3"><span class="kw">show</span>(<span class="kw"><a href="../reference/shift_reference.html">shift_reference</a></span>(sample, standard))</a></code></pre></div>
<pre><code>## An isotope value object of type 'Delta value': sample d13C [permil] vs. VPDB
## [1] -7.4875</code></pre>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb63-1" data-line-number="1"><span class="kw">show</span>(sample <span class="op">*</span><span class="st"> </span>standard)</a></code></pre></div>
<pre><code>## An isotope value object of type 'Delta value': sample d13C [permil] vs. VPDB
## [1] -7.4875</code></pre>
</div>
<div id="arithmetic" class="section level2">
<h2 class="hasAnchor">
<a href="#arithmetic" class="anchor"></a>Arithmetic</h2>
<p>Several of the arithmetic shorthands were introduced already, but there are several more (for all, see the manual). For all of these, it is always recommend to use the actual real functions in more complex scenarios for clarity. Here’s just an example of what <a href="https://github.com/isoverse/isotopia"><strong>isotopia</strong></a> can automatically keep track of in terms of isotope data objects. Here are two ways of turning isotope ratios into a fractionation factor in permil notation - it works booth by explicit mention of each functional step, or by the arithmetic equivalent.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb65-1" data-line-number="1">r1 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ratio.html">ratio</a></span>(<span class="fl">0.011</span>)</a>
<a class="sourceLine" id="cb65-2" data-line-number="2">r2 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/ratio.html">ratio</a></span>(<span class="fl">0.0113</span>)</a>
<a class="sourceLine" id="cb65-3" data-line-number="3">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/switch_notation.html">switch_notation</a></span>(<span class="kw"><a href="../reference/to_ff.html">to_ff</a></span>(r1, r2), <span class="st">"permil"</span>)</a>
<a class="sourceLine" id="cb65-4" data-line-number="4"><span class="kw">show</span>(p)</a></code></pre></div>
<pre><code>## An isotope value object of type 'FractionationFactor value': 13C eps [permil]
## [1] -26.54867</code></pre>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb67-1" data-line-number="1">p &lt;-<span class="st"> </span>(r1<span class="op">/</span>r2 <span class="op">-</span><span class="st"> </span><span class="dv">1</span>) <span class="op">*</span><span class="st"> </span><span class="dv">1000</span></a>
<a class="sourceLine" id="cb67-2" data-line-number="2"><span class="kw">show</span>(p)</a></code></pre></div>
<pre><code>## An isotope value object of type 'FractionationFactor value': 13C eps [permil]
## [1] -26.54867</code></pre>
</div>
</div>
<div id="testing" class="section level1">
<h1 class="hasAnchor">
<a href="#testing" class="anchor"></a>Testing</h1>
<p>Testing of all functionality in <a href="https://github.com/isoverse/isotopia"><strong>isotopia</strong></a> is implemented using the <strong>testthat</strong> package (Wickham, 2011; Wickham &amp; Chan, 2014), which provides a simple and uniform way of writing tests that can be run automatically to report any incorrect behaviour immediately. This enables multiple developers to contribute to the core functionality of the project without the risk of breaking prior implementations, but also allows users to easily write a few tests of their own to be confident that the package is doing what it is supposed to be doing, or just to test their own code and formulas on a regular basis. Here are few examples from the many tests already implemented for <a href="https://github.com/isoverse/isotopia"><strong>isotopia</strong></a> to give an idea of the range of functionality tests:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb69-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(testthat)</a>
<a class="sourceLine" id="cb69-2" data-line-number="2"><span class="kw"><a href="../reference/iso_opts.html">set_iso_opts</a></span>(<span class="dt">default_ab_notation =</span> <span class="st">"raw"</span>, </a>
<a class="sourceLine" id="cb69-3" data-line-number="3">             <span class="dt">default_delta_notation =</span> <span class="st">"permil"</span>, </a>
<a class="sourceLine" id="cb69-4" data-line-number="4">             <span class="dt">default_ff_notation =</span> <span class="st">"alpha"</span>)</a>
<a class="sourceLine" id="cb69-5" data-line-number="5"><span class="kw"><a href="https://rdrr.io/pkg/testthat/man/output-expectations.html">expect_error</a></span>(<span class="kw"><a href="../reference/ratio.html">ratio</a></span>(<span class="op">-</span><span class="fl">0.2</span>), <span class="st">"cannot be negative"</span>)</a>
<a class="sourceLine" id="cb69-6" data-line-number="6"><span class="kw"><a href="https://rdrr.io/pkg/testthat/man/logical-expectations.html">expect_false</a></span>(<span class="kw"><a href="../reference/is.iso.html">is.ratio</a></span>(<span class="kw"><a href="../reference/abundance.html">abundance</a></span>(<span class="fl">0.1</span>)))</a>
<a class="sourceLine" id="cb69-7" data-line-number="7"><span class="kw"><a href="https://rdrr.io/pkg/testthat/man/equality-expectations.html">expect_equal</a></span>(<span class="kw"><a href="../reference/to_ff.html">to_ff</a></span>(<span class="kw"><a href="../reference/delta.html">delta</a></span>(<span class="dv">200</span>), <span class="kw"><a href="../reference/delta.html">delta</a></span>(<span class="op">-</span><span class="dv">200</span>)), <span class="kw"><a href="../reference/fractionation_factor.html">ff</a></span>(<span class="fl">1.2</span> <span class="op">/</span><span class="st"> </span><span class="fl">0.8</span>))</a>
<a class="sourceLine" id="cb69-8" data-line-number="8"><span class="kw"><a href="https://rdrr.io/pkg/testthat/man/expect_is.html">expect_is</a></span>({</a>
<a class="sourceLine" id="cb69-9" data-line-number="9">        amix &lt;-<span class="st"> </span><span class="kw"><a href="../reference/abundance.html">abundance</a></span>(<span class="st">`</span><span class="dt">13C</span><span class="st">`</span> =<span class="st"> </span><span class="fl">0.2</span>, <span class="dt">weight =</span> <span class="dv">2</span>, <span class="dt">compound =</span> <span class="st">"a"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb69-10" data-line-number="10"><span class="st">            </span><span class="kw"><a href="../reference/abundance.html">abundance</a></span>(<span class="st">`</span><span class="dt">13C</span><span class="st">`</span> =<span class="st"> </span><span class="fl">0.5</span>, <span class="dt">compound =</span> <span class="st">"b"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb69-11" data-line-number="11"><span class="st">            </span><span class="kw"><a href="../reference/abundance.html">abundance</a></span>(<span class="st">`</span><span class="dt">13C</span><span class="st">`</span> =<span class="st"> </span><span class="fl">0.3</span>, <span class="dt">weight =</span> <span class="dv">3</span>, <span class="dt">compound =</span> <span class="st">"c"</span>)}, <span class="st">"Abundance"</span>)</a>
<a class="sourceLine" id="cb69-12" data-line-number="12"></a>
<a class="sourceLine" id="cb69-13" data-line-number="13"><span class="kw"><a href="https://rdrr.io/pkg/testthat/man/equality-expectations.html">expect_equal</a></span>(<span class="kw"><a href="../reference/object_info.html">get_label</a></span>(amix), <span class="st">"a+b+c F 13C"</span>) </a>
<a class="sourceLine" id="cb69-14" data-line-number="14"><span class="kw"><a href="https://rdrr.io/pkg/testthat/man/equality-expectations.html">expect_equal</a></span>(<span class="kw"><a href="../reference/get_value.html">get_value</a></span>(amix), (<span class="fl">0.2</span><span class="op">*</span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="fl">0.5</span> <span class="op">+</span><span class="st"> </span><span class="fl">0.3</span><span class="op">*</span><span class="dv">3</span>) <span class="op">/</span><span class="st"> </span>(<span class="dv">2</span><span class="op">+</span><span class="dv">1</span><span class="op">+</span><span class="dv">3</span>))</a>
<a class="sourceLine" id="cb69-15" data-line-number="15"><span class="kw"><a href="https://rdrr.io/pkg/testthat/man/equality-expectations.html">expect_equal</a></span>(<span class="kw"><a href="../reference/get_value.html">get_value</a></span>(<span class="kw"><a href="../reference/fractionation_factor.html">ff</a></span>(<span class="fl">0.8</span>) <span class="op">*</span><span class="st"> </span><span class="kw"><a href="../reference/delta.html">delta</a></span>(<span class="dv">200</span>) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="../reference/delta.html">delta</a></span>(<span class="dv">100</span>), <span class="st">"permil"</span>), <span class="dv">1000</span><span class="op">*</span>(<span class="fl">0.8</span><span class="op">*</span><span class="fl">1.2</span> <span class="op">-</span><span class="st"> </span><span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="fl">0.1</span>)<span class="op">/</span><span class="dv">2</span>)</a></code></pre></div>
</div>
<div id="future-extensions" class="section level1">
<h1 class="hasAnchor">
<a href="#future-extensions" class="anchor"></a>Future extensions</h1>
<p>The <a href="https://github.com/isoverse/isotopia"><strong>isotopia</strong></a> package currently implements a lot of the core functionality for isotope arithmetic. However, there is much that could built on top of it, including support for mass-scaling and mass-independent data objects and multiply subsituted isotopologues. The goal with all of these would be to provide an interface that can implement rigorous unit tests to ensure calculations are always performed the exact same way, tools to convert between reference frames and make it easier to compare and visualize data in different isotopic spaces, and, above all, to make it fun, intuitive and reproducible to work with isotopic data.</p>
</div>
<div id="references" class="section level1">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<ul>
<li><a href="http://journal.r-project.org/archive/2011-1/RJournal_2011-1_Wickham.pdf">Wickham, H., 2011. testthat: Get started with testing. The R Journal 3, 5-10.</a></li>
<li><a href="http://cran.r-project.org/package=devtools">Wickham, H., Chang, W., 2014. devtools: Tools to make developing R code easier.</a></li>
<li><a href="http://cran.r-project.org/web/packages/knitr/index.html">Xie, Y., 2013b. knitr: A general-purpose package for dynamic report generation in R.</a></li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#overview">Overview</a></li>
      <li>
<a href="#data-types">Data types</a><ul class="nav nav-pills nav-stacked">
<li><a href="#attributes">Attributes</a></li>
      <li><a href="#isotope-systems">Isotope systems</a></li>
      </ul>
</li>
      <li><a href="#notation">Notation</a></li>
      <li>
<a href="#conversions">Conversions</a><ul class="nav nav-pills nav-stacked">
<li><a href="#delta-values-and-reference-standards">Delta values and reference standards</a></li>
      </ul>
</li>
      <li>
<a href="#operations">Operations</a><ul class="nav nav-pills nav-stacked">
<li><a href="#mass-balance">Mass balance</a></li>
      <li><a href="#fractionate">Fractionate</a></li>
      <li><a href="#shift-reference">Shift reference</a></li>
      <li><a href="#arithmetic">Arithmetic</a></li>
      </ul>
</li>
      <li><a href="#testing">Testing</a></li>
      <li><a href="#future-extensions">Future extensions</a></li>
      <li><a href="#references">References</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Sebastian Kopf.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
